<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<title>미로 탈출 시뮬레이션</title>
	<link rel="stylesheet" href="/simulation.css">
	<link rel="stylesheet" href="/css/home-style.css">
</head>
<body>

<!-- 상단 네비게이션 -->
<header class="top-nav">
	<button onclick="location.href='/home'">홈</button>
	<form method="post" action="/auth/logout" style="display:inline;"><button type="submit">로그아웃</button></form>
	<button onclick="openRanking()">랭킹 보기</button>
	<button onclick="location.href='/algorithm-description'">알고리즘 설명 보기</button>
</header>

<!-- 미로 설정 컨트롤 -->
<section class="maze-settings">
	<label for="size">미로 사이즈:</label>
	<input type="number" id="size" name="size" step="2" min="3" onwheel="return false" />
	<button onclick="generateMaze()">미로 생성</button>
	<p id="error" class="error-message"></p>
</section>

<!-- 미로 및 시뮬레이션 컨테이너 -->
<main class="maze-and-controls">
	<div id="mazeContainer" class="maze-display"></div>
	
	<div class="sim-controls-wrapper">
		<div id="simulationButtonBar" class="simulation-button-bar"></div>
		<div id="speedControlPanel" class="speed-control-panel"></div>
	</div>
</main>

<!-- 랭킹 모달 -->
<div id="rankingModal">
	<iframe id="rankingIframe" src="/ranking"></iframe>
</div>

<!-- 경로 비교 패널 -->
<div id="resultPanel">
	<h3>📊 경로 비교</h3>
	<ul id="resultList"></ul>
</div>

<script src="/js/maze.js"></script>
<script>
	function openRanking() {
	  const modal = document.getElementById('rankingModal');
	  const iframe = document.getElementById('rankingIframe');
	  iframe.contentWindow.location.reload();
	  modal.style.display = 'flex';
	}
	function closeRanking() {
	  document.getElementById('rankingModal').style.display = 'none';
	}
</script>
</body>
</html>
