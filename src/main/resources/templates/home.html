<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8"/>
	<title>í™ˆ</title>
	<style>
		.maze-grid {
		  display: grid;
		  gap: 2px;
		  margin-top: 20px;
		}
	
		.cell {
		  width: 25px;
		  height: 25px;
		  border: 1px solid #ccc;
		  box-sizing: border-box;
		}
	
		.wall { background-color: black; }
		.path { background-color: white; }
		.start { background-color: white; }
		.end { background-color: crimson; }
		.player { background-color: limegreen !important; }
	
		/* ë­í‚¹ ê°•ì¡° */
		.my-rank {
		  background-color: #d1ffd1 !important;
		  font-weight: bold;
		}
	</style>
	<link rel="stylesheet" href="/simulation.css">
	
</head>
<body>
<h2>í™˜ì˜í•©ë‹ˆë‹¤!</h2>

<form method="post" action="/auth/logout">
	<button type="submit">ë¡œê·¸ì•„ì›ƒ</button>
</form>

<button onclick="openRanking()">ë­í‚¹ ë³´ê¸°</button>
<button onclick="location.href='/algorithm-description'">ì•Œê³ ë¦¬ì¦˜ ì„¤ëª… ë³´ê¸°</button>


<div id="rankingModal" style="
    display:none; position:fixed; top:0; left:0; width:100vw; height:100vh;
    background: rgba(0,0,0,0.5); justify-content:center; align-items:center;
  ">
	<iframe id="rankingIframe" src="/ranking" style="width:60vw; height:80vh; border:none; background:white;"></iframe>
</div>

<label for="size">ë¯¸ë¡œ ì‚¬ì´ì¦ˆ:</label>
<input type="number" id="size" name="size" step="2"
       min="3"
       onwheel="return false"
       style="width: 80px; padding: 5px; font-size: 16px;" />
<button onclick="generateMaze()">ë¯¸ë¡œ ìƒì„±</button>

<p id="error" style="color: red;"></p>


<h3>ìƒì„±ëœ ë¯¸ë¡œ:</h3>
<div id="mazeContainer"></div>

<div id="resultPanel" style="display:none; position:absolute; right:0; top:0; width:250px; background:#f4f4f4; padding:10px; border-left:2px solid #ccc;">
	<h3>ğŸ“Š ê²½ë¡œ ë¹„êµ</h3>
	<ul id="resultList"></ul>
</div>


<script src="/js/maze.js"></script> <!-- JS íŒŒì¼ ì™¸ë¶€ë¡œ ë¶„ë¦¬ -->

<script>
	function openRanking() {
	  const modal = document.getElementById('rankingModal');
	  const iframe = document.getElementById('rankingIframe');

	  // iframe ìƒˆë¡œê³ ì¹¨í•´ì„œ ìµœì‹  ë°ì´í„° ìš”ì²­
	  iframe.contentWindow.location.reload();

	  modal.style.display = 'flex';
	}

	function closeRanking() {
	  document.getElementById('rankingModal').style.display = 'none';
	}
</script>
</body>
</html>
