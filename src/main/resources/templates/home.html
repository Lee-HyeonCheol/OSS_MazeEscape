<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<title>ë¯¸ë¡œ íƒˆì¶œ ì‹œë®¬ë ˆì´ì…˜</title>
	<link rel="stylesheet" href="/simulation.css">
	<link rel="stylesheet" href="/css/home-style.css">
</head>
<body>

<!-- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
<header class="top-nav">
	<button onclick="location.href='/home'">í™ˆ</button>
	<form method="post" action="/auth/logout" style="display:inline;"><button type="submit">ë¡œê·¸ì•„ì›ƒ</button></form>
	<button onclick="openRanking()">ë­í‚¹ ë³´ê¸°</button>
	<button onclick="location.href='/algorithm-description'">ì•Œê³ ë¦¬ì¦˜ ì„¤ëª… ë³´ê¸°</button>
</header>

<!-- ë¯¸ë¡œ ì„¤ì • ì»¨íŠ¸ë¡¤ -->
<section class="maze-settings">
	<label for="size">ë¯¸ë¡œ ì‚¬ì´ì¦ˆ:</label>
	<input type="number" id="size" name="size" step="2" min="3" onwheel="return false" />
	<button onclick="generateMaze()">ë¯¸ë¡œ ìƒì„±</button>
	<p id="error" class="error-message"></p>
</section>

<!-- ë¯¸ë¡œ ë° ì‹œë®¬ë ˆì´ì…˜ ì»¨í…Œì´ë„ˆ -->
<main class="maze-and-controls">
	<div id="mazeContainer" class="maze-display"></div>
	
	<div class="sim-controls-wrapper">
		<div id="simulationButtonBar" class="simulation-button-bar"></div>
		<div id="speedControlPanel" class="speed-control-panel"></div>
	</div>
</main>

<!-- ë­í‚¹ ëª¨ë‹¬ -->
<div id="rankingModal">
	<iframe id="rankingIframe" src="/ranking"></iframe>
</div>

<!-- ê²½ë¡œ ë¹„êµ íŒ¨ë„ -->
<div id="resultPanel">
	<h3>ğŸ“Š ê²½ë¡œ ë¹„êµ</h3>
	<ul id="resultList"></ul>
</div>

<script src="/js/maze.js"></script>
<script>
	function openRanking() {
	  const modal = document.getElementById('rankingModal');
	  const iframe = document.getElementById('rankingIframe');
	  iframe.contentWindow.location.reload();
	  modal.style.display = 'flex';
	}
	function closeRanking() {
	  document.getElementById('rankingModal').style.display = 'none';
	}
</script>
</body>
</html>
